---
title: Randfixedsum ports in C# and PHP
date: 2008-09-24
permalink: /thoughts/2008/09/randfixedsum-ports-in-cs-and-php/
teaser: |-
  For a recent programming assignment that I was given at university, I was required to do some random number generation. I decided to write my program in such a way that it needed a set of random numbers (with a fixed set size), each of which had to be within a fixed range, and all of which had to add up to a fixed total. In other words, what I needed was a function that let me say: <em>"give me 50 random numbers, and make sure that each of those numbers is between 1 and 20, and also make sure that the total of all those numbers is 200... and remember, despite all that, they have to be <strong>random</strong>!"</em> Only problem? Finding a function that returns such data is extremely difficult.

  Fortunately, I stumbled across the ingenious <a href="http://www.mathworks.com/matlabcentral/fileexchange/loadFile.do?objectId=9700&objectType=file">randfixedsum</a>, by <a href="http://www.mathworks.com/matlabcentral/fileexchange/loadAuthor.do?objectType=author&objectId=1094889">Roger Stafford</a>. Randfixedsum &mdash; as its name suggests &mdash; does exactly what I was looking for. The only thing that was stopping me from using it, is that it's written in <a href="http://en.wikipedia.org/wiki/Matlab">Matlab</a>. And I needed it in C# (per the requirements of my programming assignment). And that, my friends, is the story of why I decided to port it! This was the first time I've ever used Matlab (actually, I used <a href="http://www.gnu.org/software/octave/">Octave</a>, a free alternative), and it's pretty different to anything else I've ever programmed with. So I hope I've done a decent job of porting it, but let me know if I've made any major mistakes. I also ported the function over to PHP, as that's my language of choice these days. Download, tinker, and enjoy.
fileAttachments:
  - randfixedsum.php_.txt
  - randfixedsum.cs_.txt
tags:
  - thoughtstopics/computing
---
For a recent programming assignment that I was given at university, I was required to do some random number generation. I decided to write my program in such a way that it needed a set of random numbers (with a fixed set size), each of which had to be within a fixed range, and all of which had to add up to a fixed total. In other words, what I needed was a function that let me say: <em>"give me 50 random numbers, and make sure that each of those numbers is between 1 and 20, and also make sure that the total of all those numbers is 200... and remember, despite all that, they have to be <strong>random</strong>!"</em> Only problem? Finding a function that returns such data is extremely difficult.

Fortunately, I stumbled across the ingenious <a href="http://www.mathworks.com/matlabcentral/fileexchange/loadFile.do?objectId=9700&objectType=file">randfixedsum</a>, by <a href="http://www.mathworks.com/matlabcentral/fileexchange/loadAuthor.do?objectType=author&objectId=1094889">Roger Stafford</a>. Randfixedsum &mdash; as its name suggests &mdash; does exactly what I was looking for. The only thing that was stopping me from using it, is that it's written in <a href="http://en.wikipedia.org/wiki/Matlab">Matlab</a>. And I needed it in C# (per the requirements of my programming assignment). And that, my friends, is the story of why I decided to port it! This was the first time I've ever used Matlab (actually, I used <a href="http://www.gnu.org/software/octave/">Octave</a>, a free alternative), and it's pretty different to anything else I've ever programmed with. So I hope I've done a decent job of porting it, but let me know if I've made any major mistakes. I also ported the function over to PHP, as that's my language of choice these days. Download, tinker, and enjoy.

My ported functions produce almost identical output to the Matlab original. The main difference is that my versions only return a 1-dimensional set of numbers, as opposed to an <em>n</em>-dimensional set. Consequently, they also neglect to return the volume of the set, since this is always equal to the length of the set when there's only one dimension. I didn't port the <em>n</em>-dimensions functionality, because in my case I didn't need it &mdash; if you happen to need it, then you're welcome to port it yourself. You're also welcome to "port my ports" to whatever other languages take your fancy. Porting them from vector-based Matlab to procedural-based C# and PHP was the hard part. Porting them to any other procedural or OO language from here is the easy part. Please let me know if you make any versions of your own &mdash; I'd love to take a look at them.
