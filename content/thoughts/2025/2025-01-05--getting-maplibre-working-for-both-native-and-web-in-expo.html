---
title: Getting MapLibre working for both native and web in Expo
date: 2025-01-05
teaser: |-
  I've been dabbling of late in building a mobile app with <a href="https://reactnative.dev/">React Native</a> + <a href="https://expo.dev/">Expo</a>. One of the things that attracted me most to Expo, is that &ndash; on top of the "write once, <a href="https://stackoverflow.com/questions/55113505/is-it-sufficient-to-learn-only-react-native-for-building-ios-and-android-apps">run on iOS and Android</a>" claim of React Native &ndash; Expo claims to also let an app run seamlessly <a href="https://www.reddit.com/r/reactnative/comments/1204gzr/is_expo_ready_to_support_web_platform_as_well/">on the web</a>. Anyway, as it turns out (surprise surprise &ndash; not!), neither of <a href="https://news.ycombinator.com/item?id=36871651">those claims</a> are particularly aligned with reality. I found this out &ndash; with the claim of "run on native and web" &ndash; as soon as I wanted to add a simple map to my app.

  [thumbnail expo-maplibre-native-plus-web-demo-screenshot.jpg Behold, a MapLibre map, working both for native and for web, in Expo.]

  Below is my humble lil' guide to getting <a href="https://maplibre.org/">MapLibre</a> working for both native and web in Expo. Note: if you want to skip the step-by-step shpiel, and you just want a working example with all the code, feel free to head straight to the <a href="https://github.com/Jaza/expo-maplibre-native-plus-web-demo">Expo MapLibre native + web demo</a> on GitHub.
tags:
  - thoughtstopics/expo
  - thoughtstopics/javascript
  - thoughtstopics/mapping
---
I've been dabbling of late in building a mobile app with <a href="https://reactnative.dev/">React Native</a> + <a href="https://expo.dev/">Expo</a>. One of the things that attracted me most to Expo, is that &ndash; on top of the "write once, <a href="https://stackoverflow.com/questions/55113505/is-it-sufficient-to-learn-only-react-native-for-building-ios-and-android-apps">run on iOS and Android</a>" claim of React Native &ndash; Expo claims to also let an app run seamlessly <a href="https://www.reddit.com/r/reactnative/comments/1204gzr/is_expo_ready_to_support_web_platform_as_well/">on the web</a>. Anyway, as it turns out (surprise surprise &ndash; not!), neither of <a href="https://news.ycombinator.com/item?id=36871651">those claims</a> are particularly aligned with reality. I found this out &ndash; with the claim of "run on native and web" &ndash; as soon as I wanted to add a simple map to my app.

[thumbnail expo-maplibre-native-plus-web-demo-screenshot.jpg Behold, a MapLibre map, working both for native and for web, in Expo.]

Below is my humble lil' guide to getting <a href="https://maplibre.org/">MapLibre</a> working for both native and web in Expo. Note: if you want to skip the step-by-step shpiel, and you just want a working example with all the code, feel free to head straight to the <a href="https://github.com/Jaza/expo-maplibre-native-plus-web-demo">Expo MapLibre native + web demo</a> on GitHub.

<h2>Map library options</h2>

First of all, a quick rundown of the options that one has at one's disposal, when wanting to add a map to an Expo app.

The simplest and the most recommended option is to <a href="https://docs.expo.dev/versions/latest/sdk/map-view/">use <code>react-native-maps</code></a>. This is the only solution that works with <a href="https://expo.dev/go">Expo Go</a>, and it's the only one that's documented in the official Expo docs. However, it's explicitly stated that <code>react-native-maps</code> isn't web-compatible, so if you used it and you also wanted maps on web, your only choice would be to fall back to something like <a href="https://github.com/visgl/react-google-maps"><code>react-google-maps</code></a> for web. Also, you'd (potentially) have to deal with Apple Maps on iOS vs Google Maps on Android. And &ndash; my main reason for steering clear of this option &ndash; you'd have to live with the <a href="https://joemorrison.substack.com/p/google-maps-moat-is-evaporating">these-days-horrific pricing</a> of the Google Maps API.

The next option is to <a href="https://github.com/rnmapbox/maps">use <code>rnmapbox</code></a>. This is the solution that I instinctively chose first up, and that I stuck with for quite a while, mainly because (for the past several years) I've become accustomed to using MapBox instead of Google Maps anyway, for maps on old-skool web sites. Plus, <code>rnmapbox</code> claims to (somewhat) support Expo Web. Unfortunately, "somewhat" is in my opinion an <a href="https://github.com/rnmapbox/maps/issues/3597">overly optimistic</a> assessment of <code>rnmapbox</code>'s web support. Plus, I was surprised to learn that MapBox is no longer the mapping provider of choice for hobbyists, since it decided to <a href="https://wptavern.com/mapbox-gl-js-is-no-longer-open-source">stop open-sourcing</a> its mapping library.
